{"version":3,"sources":["lazyload-images.js"],"names":["init","LazyloadImages","scope","featherLightSingle","FeatherlightSingle","vertImgFix","VerticalImages","length","lazyLoadImages","_self","lazyload","effect","threshold","load","elem","addClass","set","fixVerticalSingle","module"],"mappings":";;;;;;;;;QA4CgBA,I,GAAAA,I;;AA5ChB;;;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA;;;;;;IAMaC,c,WAAAA,c;AACZ,2BAAe;AAAA;;AACd,OAAKC,KAAL,GAAa,sBAAE,UAAF,CAAb;AACA,OAAKC,kBAAL,GAA0B,IAAIC,4CAAJ,EAA1B;AACA,OAAKC,UAAL,GAAkB,IAAIC,8BAAJ,EAAlB;AACA;;;;yBAEM;AACN,OAAI,KAAKJ,KAAL,CAAWK,MAAf,EAAuB;AACtB,SAAKC,cAAL;AACA;AACD;;;mCAEgB;AAChB,OAAIC,QAAQ,IAAZ;;AAEAA,SAAMP,KAAN,CAAYQ,QAAZ,CAAqB;AACpBC,YAAS,QADW;AAEpBC,eAAW,GAFS;AAGpBC,UAAM,gBAAU;AACf,SAAIC,OAAO,IAAX;AACA,2BAAEA,IAAF,EAAQC,QAAR,CAAiB,OAAjB;AACAN,WAAMN,kBAAN,CAAyBa,GAAzB,CAA6BF,IAA7B;AACAL,WAAMN,kBAAN,CAAyBH,IAAzB;AACA;AACA;AACAS,WAAMJ,UAAN,CAAiBY,iBAAjB,CAAmCH,IAAnC;AACA;AAXmB,IAArB;AAaA;;;;;;AAGK,SAASd,IAAT,GAAgB;AACtB,KAAIkB,SAAS,IAAIjB,cAAJ,EAAb;AACAiB,QAAOlB,IAAP;AACA","file":"lazyload-images.js","sourcesContent":["import $ from 'jquery';\nimport 'jquery-lazyload';\nimport 'imagesloaded';\nimport { FeatherlightSingle } from './featherlight-single-images.js';\nimport { VerticalImages } from './vertical-images.js';\n\n/**\n * @class LazyloadImages\n * @author Dominic <dominicgangx@gmail.com>\n * lazy load article images\n * data-component = 'lazyload-images'\n */\nexport class LazyloadImages {\n\tconstructor () {\n\t\tthis.scope = $('img.lazy');\n\t\tthis.featherLightSingle = new FeatherlightSingle();\n\t\tthis.vertImgFix = new VerticalImages();\n\t}\n\n\tinit() {\n\t\tif (this.scope.length) {\n\t\t\tthis.lazyLoadImages();\n\t\t}\n\t}\n\n\tlazyLoadImages() {\n\t\tlet _self = this;\n\n\t\t_self.scope.lazyload({\n\t\t\teffect : \"fadeIn\",\n\t\t\tthreshold: 200,\n\t\t\tload: function(){\n\t\t\t\tlet elem = this;\n\t\t\t\t$(elem).addClass('ready');\n\t\t\t\t_self.featherLightSingle.set(elem);\n\t\t\t\t_self.featherLightSingle.init();\n\t\t\t\t// alignment for vertical images (resolve promise then do next)\n\t\t\t\t// alignment for side-by-side vertical images\n\t\t\t\t_self.vertImgFix.fixVerticalSingle(elem);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function init() {\n\tlet module = new LazyloadImages();\n\tmodule.init();\n}"]}