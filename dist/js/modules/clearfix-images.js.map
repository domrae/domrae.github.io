{"version":3,"sources":["clearfix-images.js"],"names":["init","ClearfixImage","scope","length","map","i","el","hasClass","clearfixSideBySide","clearfixLandscape","elem","$elem","$prevElem","prev","$nextElem","next","is","before","find","module"],"mappings":";;;;;;;;;QA0DgBA,I,GAAAA,I;;AA1DhB;;;;;;;;AAEA;;;;;;IAMaC,a,WAAAA,a;AACZ,0BAAe;AAAA;;AACd,OAAKC,KAAL,GAAa,sBAAE,WAAF,CAAb;AACA;;;;yBAEM;AAAA;;AACN,OAAI,KAAKA,KAAL,CAAWC,MAAf,EAAuB;AACtB,SAAKD,KAAL,CAAWE,GAAX,CAAe,UAACC,CAAD,EAAIC,EAAJ,EAAW;AACzB,SAAI,sBAAEA,EAAF,EAAMC,QAAN,CAAe,oBAAf,CAAJ,EAA0C;AACzC,YAAKC,kBAAL,CAAwBF,EAAxB;AACA;;AAED,SAAI,CAAC,sBAAEA,EAAF,EAAMC,QAAN,CAAe,UAAf,CAAL,EAAiC;AAChC,YAAKE,iBAAL,CAAuBH,EAAvB;AACA;AACD,KARD;AASA;AACD;;AAED;;;;;;;qCAImBI,I,EAAM;AACxB,OAAIC,QAAQ,sBAAED,IAAF,CAAZ;AACA,OAAIE,YAAYD,MAAME,IAAN,EAAhB;AACA,OAAIC,YAAYH,MAAMI,IAAN,EAAhB;;AAEA,OAAIJ,MAAMJ,QAAN,CAAe,UAAf,KAA8BK,UAAUL,QAAV,CAAmB,UAAnB,CAA9B,KAAiEK,UAAUC,IAAV,GAAiBG,EAAjB,CAAoB,GAApB,KAA4B,CAACJ,UAAUC,IAAV,GAAiBV,MAA/G,CAAJ,EAA2H;AAC1HS,cAAUK,MAAV,CAAiB,gCAAjB;AACA;;AAED,OAAIN,MAAMJ,QAAN,CAAe,UAAf,KAA8BO,UAAUP,QAAV,CAAmB,UAAnB,CAA9B,KAAiEI,MAAME,IAAN,GAAaG,EAAb,CAAgB,GAAhB,KAAwB,CAACL,MAAME,IAAN,GAAaV,MAAvG,CAAJ,EAAmH;AAClHQ,UAAMM,MAAN,CAAa,gCAAb;AACA;AACD;;AAED;;;;;;oCAGkBP,I,EAAM;AACvB,OAAIC,QAAQ,sBAAED,IAAF,CAAZ;;AAEA,OAAIC,MAAMO,IAAN,CAAW,KAAX,EAAkBf,MAAlB,IAA4B,CAACQ,MAAMJ,QAAN,CAAe,UAAf,CAAjC,EAA6D;AAC7D;AACCI,UAAMM,MAAN,CAAa,gCAAb;AACA;AACD;;;;;;AAGK,SAASjB,IAAT,GAAgB;AACtB,KAAImB,SAAS,IAAIlB,aAAJ,EAAb;AACAkB,QAAOnB,IAAP;AACA","file":"clearfix-images.js","sourcesContent":["import $ from 'jquery';\n\n/**\n * @class ClearfixImage\n * @author Dominic <dominicgangx@gmail.com>\n * [imgClearfix description]\n * data-component = 'clearfix-images'\n */\nexport class ClearfixImage {\n\tconstructor () {\n\t\tthis.scope = $('article p');\n\t}\n\n\tinit() {\n\t\tif (this.scope.length) {\n\t\t\tthis.scope.map((i, el) => {\n\t\t\t\tif ($(el).hasClass('vert-img col-2-img')) {\n\t\t\t\t\tthis.clearfixSideBySide(el);\n\t\t\t\t}\n\n\t\t\t\tif (!$(el).hasClass('vert-img')) {\n\t\t\t\t\tthis.clearfixLandscape(el);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * add clearfix div to before side-by-side images\n\t * for alignment fix\n\t */\n\tclearfixSideBySide(elem) {\n\t\tlet $elem = $(elem);\n\t\tlet $prevElem = $elem.prev();\n\t\tlet $nextElem = $elem.next();\n\n\t\tif ($elem.hasClass('vert-img') && $prevElem.hasClass('vert-img') && ($prevElem.prev().is('p') || !$prevElem.prev().length)){\n\t\t\t$prevElem.before('<div class=\"empty-fill\"></div>');\n\t\t}\n\n\t\tif ($elem.hasClass('vert-img') && $nextElem.hasClass('vert-img') && ($elem.prev().is('p') || !$elem.prev().length)){\n\t\t\t$elem.before('<div class=\"empty-fill\"></div>');\n\t\t}\n\t}\n\t\n\t/**\n\t * add clearfix to before landscape images\n\t */\n\tclearfixLandscape(elem) {\n\t\tlet $elem = $(elem);\n\n\t\tif ($elem.find('img').length && !$elem.hasClass('vert-img')) {\n\t\t// if (!$(elem).prev().is('p')){\n\t\t\t$elem.before('<div class=\"empty-fill\"></div>');\n\t\t}\n\t}\n}\n\nexport function init() {\n\tlet module = new ClearfixImage();\n\tmodule.init();\n}\n"]}