"use strict";function backtoTopButton(){var t=$("#backtotop");if(!t.length)return!1;var n=function(){100<$(window).scrollTop()?t.addClass("show"):t.removeClass("show")};n(),$(window).on("scroll",function(){n()}),t.on("click",function(t){t.preventDefault(),$("html,body").animate({scrollTop:0},700)})}function instaBannerHashtagLink(){var t=$(".banner .text h3");if(!t.length||"#"!==t[0].innerHTML.charAt(0))return!1;var n="https://www.instagram.com/explore/tags/"+t.text().substring(1);t.wrap("<a></a>").parent().attr({target:"_blank",href:n})}function initPostGridMasonry(){var t=$(".post-grid");if(!t.length)return!1;var n=t.masonry({itemSelector:".post-item",columnWidth:".post-grid-sizer",gutter:0,percentPosition:!0});n.imagesLoaded().progress(function(){n.masonry("layout")})}
"use strict";function articleImgLazy(){$("img.lazy").lazyload({effect:"fadeIn",threshold:200,appear:function(){vertImgFix(),sbsVertImg(),initFeatherlightSingle(this)}})}function imgClearfix(){$("article .vert-img.col-2-img").each(function(){$(this).prev().is("p")||$(this).before('<div class="empty-fill"></div>')}),$("article p:not(.vert-img)").each(function(){$(this).prev().hasClass("vert-img")&&$(this).before('<div class="empty-fill"></div>')})}function initFeatherlight(){for(var t,a=$("article img"),e=a.get(),i=0,r=e.length;i<r;i++)t=$(e[i]).attr("src"),$(e[i]).attr("data-featherlight",t);a.featherlightGallery()}function initFeatherlightSingle(t){var a,e=$(t);a=e.attr("data-original"),e.attr("data-featherlight",a),e.featherlightGallery()}function vertImgFix(){for(var t=$("article img").get(),a=0,e=t.length;a<e;a++)$(t[a]).width()<$(t[a]).height()&&$(t[a]).parent().addClass("vert-img")}function imgTitle(){$("article img").each(function(){$(this).attr("title",$(this).attr("alt")),$(this).parent().append('<span class="caption">'+$(this).attr("alt")+"</span>")})}function sbsVertImg(){var t=$("article .vert-img").get();if(t.length<=0)return!1;for(var a=0,e=t.length;a<e;a++){var i=$(t[a]).next();"vert-img"==i.attr("class")&&($(t[a]).addClass("col-2-img"),i.addClass("col-2-img"),0)}}function generateArticleIcon(){var t;switch(document.querySelector("article").dataset.category){case"indonesia":t=["backpack","horse","palm-trees","surf","volcano","beach","sea","summer"];break;case"japan":default:t=["unagi-nigiri","udon","nigiri","ikura-gunkan-maki","okonomiyaki"]}var a=Math.floor(5*Math.random());$(".post-flourish.top").addClass(t[a])}function articleLinks(){$("article a").each(function(){$(this).attr({target:"_blank",rel:"noopener noreferrer"})})}
"use strict";function loadPlugins(){$("[data-component]").each(function(a,t){var e=t.dataset.component.replace(/'/g,'"');JSON.parse(e).map(function(a,t){console.log(a)})})}$(document).ready(function(){loadPlugins(),initPostGridMasonry(),instaBannerHashtagLink(),$("article").length&&(initFeatherlight(),generateArticleIcon(),articleLinks(),backtoTopButton(),articleImgLazy(),$("article").imagesLoaded().progress(function(a,t){var e=$(t.img);768<$(window).width()?e.delay("400").addClass("ready"):e.addClass("ready")}).done(function(a){vertImgFix(),sbsVertImg(),imgTitle(),imgClearfix()}))});
//# sourceMappingURL=all.js.map
